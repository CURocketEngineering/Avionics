<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.16.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Avionics: Avionics for Clemson University Rocket Engineering</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="clemson.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Avionics
   </div>
   <div id="projectbrief">Core avionics package for CURE flight computers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.16.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('index.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Avionics for Clemson University Rocket Engineering </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a></p>
<p>Avionics is a modular, Arduino-core based system powering the flight computers of Clemson University Rocket Engineering. Designed for high reliability and efficiency, it supports real-time state estimation, data logging, and robust communication across multiple rockets.</p>
<p><b>Documentation Website: ðŸš€<a href="https://curocketengineering.github.io/Avionics/">Avionics Docs</a>ðŸš€</b></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md38"></a>
Table of Contents</h1>
<ul>
<li>Introduction</li>
<li>Project Goals</li>
<li>Architecture Overview</li>
<li>Features</li>
<li>Dependent Systems</li>
<li>Documentation</li>
<li>Testing<ul>
<li>Unit Testing</li>
<li>Flight Tests</li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md39"></a>
Introduction</h1>
<p>This repository contains the avionics system used across various flight computers within the Clemson University Rocket Engineering organization. Designed to be modular and highly configurable, the system supports critical functions such as state detection, data logging, and robust communication.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md40"></a>
Project Goals</h1>
<ul>
<li>Deliver a reusable avionics toolbox that can be utilized across multiple rocket platforms.</li>
<li>Prioritize flight safety through redundant sensing, conservative state transitions, and explicit error handling.</li>
<li>Maintain traceable telemetry and post-flight data for analysis and certification.</li>
<li>Enable rapid iteration with simulation hooks, configurable command interfaces, and host-side unit testing.</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md41"></a>
Architecture Overview</h1>
<ul>
<li><b>State estimation:</b> Launch/apogee detection, burnout/landing state machines, and vertical velocity filtering to gate deployment logic.</li>
<li><b>Data handling:</b> SPI flash/SD logging, serial streaming, and documented Byte5 binary format for efficient on-vehicle storage (see <span class="tt"><a class="el" href="FlashDataSaving_8md.html">docs/FlashDataSaving.md</a></span>).</li>
<li><b>Communication:</b> UART command handler for runtime configuration, telemetry, and debugging without reflashing firmware.</li>
<li><b>Power and platform:</b> Power management utilities plus HAL abstractions to keep sensor/MCU specifics isolated from flight logic.</li>
<li><b>Simulation:</b> Serial-driven sensor simulators (e.g., LSM6DSOX, LIS3MDL, BMP390) to inject prerecorded data for hardware-in-the-loop testing.</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md42"></a>
Flight Tests</h1>
<p>See a comprehensive list of all flights using this software at <em><b>ðŸš€<a class="el" href="md_docs_2FlightTests.html" title="Flight Test History">Flight Tests</a>ðŸš€</b></em>.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md43"></a>
Features</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md44"></a>
State Detection Tools</h2>
<ul>
<li><b>Launch Detection:</b> <br  />
 The <a href="include/data_handling/LaunchDetector.h">Launch Detector</a> uses a rolling median of acceleration data to accurately detect launches. It is highly configurable to accommodate different launch profiles and includes stringent data rate and error-handling mechanisms.</li>
<li><b>Vertical Velocity Estimation:</b> <br  />
 The <a href="include/state_estimation/VerticalVelocityEstimator.h">Vertical Velocity Estimator</a> employs a 1D Kalman filter to estimate vertical velocity from acceleration and altitude data.</li>
<li><b>Apogee Detection:</b> <br  />
 The <a href="include/state_estimation/ApogeeDetector.h">Apogee Detector</a> utilizes the vertical velocity estimator to detect when the rocket begins to fall. Also checks if the altitude has dropped by a certain threshold from the highest recorded altitude.</li>
<li><b>Apogee Prediction:</b> <br  />
 The <a href="include/state_estimation/ApogeePredictor.h">Apogee Predictor</a> utilizes the vertical velocity estimator to predict the time until apogee and the maximum altitude.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md45"></a>
Data Logging</h2>
<ul>
<li><b>SPI Embedded Flash-based Logging:</b> <br  />
 <a href="include/data_handling/DataSaverSPI.h">DataSaverSPI</a> logs sensor data directly to any W25 SPI flash chip. Each sensor logs data at its own rate using the "Byte5" format, which is optimized for space efficiency while allowing for unordered data. Data is stored in a circular buffer until post-launch mode is activated.</li>
<li><b>SPI SD Card-based Logging:</b> <br  />
 <a href="include/data_handling/DataSaverBigSD.h">DataSaverBigSD</a> logs data to a large capacity SD card. Data is saved in a stream with less regard for space efficiency. Saves data in a stream format rather than a CSV.</li>
<li><b>Serial-based Logging:</b> <br  />
 <a href="include/data_handling/DataSaverSDSerial.h">DataSaverSDSerial</a> provides an alternative logging mechanism by streaming binary data to a serial interface. Although less space-efficient than "Byte5", it is designed for applications with large SD cards. Refer to the <a href="https://github.com/CURocketEngineering/Serial-Logger-Decoding">Serial-Logger-Decoding</a> repository for decoding instructions.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md46"></a>
Communication</h2>
<ul>
<li><b>Serial Command Handler:</b> <br  />
 The <a href="include/UARTCommandHandler.h">UARTCommandHandler</a> offers a fully configurable command interface for runtime configuration, debugging, and data retrieval, using function pointers for flexibility.</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md47"></a>
Dependent Systems</h1>
<p>The following systems integrate Avionics as a submodule:</p>
<ul>
<li><a href="https://github.com/CURocketEngineering/MARTHA-1.3">MARTHA 1.3</a></li>
<li><a href="https://github.com/CURocketEngineering/Active-Aero">Active-Aero</a></li>
<li><a href="https://github.com/CURocketEngineering/MARTHA-1.1">MARTHA 1.1</a></li>
<li><a href="https://github.com/CURocketEngineering/Native">Native</a></li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md48"></a>
Documentation</h1>
<ul>
<li>Doxygen: run <span class="tt">doxygen Doxyfile</span> from the repository root. HTML output is placed in <span class="tt">build/doxygen/index.html</span> (README is used as the main page). You can then use Python to serve the files locally: <span class="tt">python -m http.server --directory build/doxygen 8000</span> and navigate to <span class="tt"><a href="http://localhost:8000">http://localhost:8000</a></span> in your browser. We have a workflow that will autogenerate and deploy the docs to GitHub Pages on each push to main.</li>
<li>High-level notes: data logging constraints and Byte5 format are summarized in <span class="tt"><a class="el" href="FlashDataSaving_8md.html">docs/FlashDataSaving.md</a></span>.</li>
<li>Flight history: see <span class="tt"><a class="el" href="FlightTests_8md.html">docs/FlightTests.md</a></span> for vehicles and dates that have flown with this codebase.</li>
<li>Target Audience: The documentation is written for compsci students with very little background in C++ or embedded systems.</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md49"></a>
Unit Testing</h1>
<p>Unit tests are managed by the <a href="https://github.com/CURocketEngineering/Native">Native</a> repository, allowing for module testing without requiring embedded hardware.</p>
<p>Never in the Avionics repo should you <span class="tt">#include &lt;Arduino.h&gt;</span> or any other Arduino-specific headers. Instead, always include <span class="tt"><a class="el" href="ArduinoHAL_8h.html">ArduinoHAL.h</a></span> from the <span class="tt">hal</span> directory, which will either pull in the real Arduino core (when compiling for an Arduino target) or a mock implementation (when compiling for Native). This ensures that Avionics can be tested via the Native repo on a laptop without any Arduino dependencies.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md50"></a>
License</h1>
<p>This project is licensed under the [MIT License](LICENSE). Please review the LICENSE file for complete details. </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.16.1 </li>
  </ul>
</div>
</body>
</html>
