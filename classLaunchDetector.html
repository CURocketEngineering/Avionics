<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.16.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Avionics: LaunchDetector Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="clemson.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Avionics
   </div>
   <div id="projectbrief">Core avionics package for CURE flight computers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.16.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('classLaunchDetector.html','','classLaunchDetector-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">LaunchDetector Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Sliding-window launch detector based on acceleration magnitude.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="LaunchDetector_8h_source.html">LaunchDetector.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for LaunchDetector:</div>
<div class="dyncontent">
<div class="center"><img src="classLaunchDetector__coll__graph.png" border="0" usemap="#aLaunchDetector_coll__map" loading="lazy" alt="Collaboration graph"/></div>
<map name="aLaunchDetector_coll__map" id="aLaunchDetector_coll__map">
<area shape="rect" title="Sliding&#45;window launch detector based on acceleration magnitude." alt="" coords="5,5,247,251"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a10e33e12876e820753cde55b85c6f6dc" id="r_a10e33e12876e820753cde55b85c6f6dc"><td class="memItemLeft">&#160;</td><td class="memItemRight"><a class="el" href="#a10e33e12876e820753cde55b85c6f6dc">LaunchDetector</a> (float accelerationThreshold_ms2, uint16_t windowSize_ms, uint16_t windowInterval_ms)</td></tr>
<tr class="memitem:aafd3b9a4f4cab849750851cfb3fbe4ff" id="r_aafd3b9a4f4cab849750851cfb3fbe4ff"><td class="memItemLeft">int&#160;</td><td class="memItemRight"><a class="el" href="#aafd3b9a4f4cab849750851cfb3fbe4ff">update</a> (<a class="el" href="structAccelerationTriplet.html">AccelerationTriplet</a> accel)</td></tr>
<tr class="memitem:a99e05cfc01d84f3401d053700e09b7a3" id="r_a99e05cfc01d84f3401d053700e09b7a3"><td class="memItemLeft">bool&#160;</td><td class="memItemRight"><a class="el" href="#a99e05cfc01d84f3401d053700e09b7a3">isLaunched</a> ()</td></tr>
<tr class="memitem:a087d0a3884c957a74134b6bebb5b09ec" id="r_a087d0a3884c957a74134b6bebb5b09ec"><td class="memItemLeft">uint32_t&#160;</td><td class="memItemRight"><a class="el" href="#a087d0a3884c957a74134b6bebb5b09ec">getLaunchedTime</a> ()</td></tr>
<tr class="memitem:a4d6d2d230bf4de43b01280d92b02c6b9" id="r_a4d6d2d230bf4de43b01280d92b02c6b9"><td class="memItemLeft">float&#160;</td><td class="memItemRight"><a class="el" href="#a4d6d2d230bf4de43b01280d92b02c6b9">getMedianAccelerationSquared</a> ()</td></tr>
<tr class="memitem:a95dcd28cad213d76923dad7f3fac46d7" id="r_a95dcd28cad213d76923dad7f3fac46d7"><td class="memItemLeft">void&#160;</td><td class="memItemRight"><a class="el" href="#a95dcd28cad213d76923dad7f3fac46d7">reset</a> ()</td></tr>
<tr class="memitem:ac06864bc7b0b8b8e262faaf6d02abc36" id="r_ac06864bc7b0b8b8e262faaf6d02abc36"><td class="memItemLeft"><a class="el" href="classCircularArray.html">CircularArray</a>&lt; <a class="el" href="classDataPoint.html">DataPoint</a>, <a class="el" href="LaunchDetector_8h.html#a010dffbeb29ec5827f49b8857058687b">CIRCULAR_ARRAY_ALLOCATED_SLOTS</a> &gt; *&#160;</td><td class="memItemRight"><a class="el" href="#ac06864bc7b0b8b8e262faaf6d02abc36">getWindowPtr</a> ()</td></tr>
<tr class="memitem:aca6e1d0de79edf9d2e47f5424b71776a" id="r_aca6e1d0de79edf9d2e47f5424b71776a"><td class="memItemLeft">float&#160;</td><td class="memItemRight"><a class="el" href="#aca6e1d0de79edf9d2e47f5424b71776a">getThreshold</a> ()</td></tr>
<tr class="memitem:a847360fa6e3b8d61f2989ec2c329f2d0" id="r_a847360fa6e3b8d61f2989ec2c329f2d0"><td class="memItemLeft">uint16_t&#160;</td><td class="memItemRight"><a class="el" href="#a847360fa6e3b8d61f2989ec2c329f2d0">getWindowInterval</a> ()</td></tr>
<tr class="memitem:a7136c3709a7dc5ea3cb8073e07902bd8" id="r_a7136c3709a7dc5ea3cb8073e07902bd8"><td class="memItemLeft">uint16_t&#160;</td><td class="memItemRight"><a class="el" href="#a7136c3709a7dc5ea3cb8073e07902bd8">getAcceptableTimeDifference</a> ()</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Sliding-window launch detector based on acceleration magnitude. </p>
<p>Predicts launch by looking for a sustained acceleration above a threshold It takes the median acceleration magnitude over a window of time and compares it to the threshold. Because of the size of the window, short spikes are ignored.</p>
<p>The window is a circular array / rolling window of acceleration magnitudes squared</p>
<p>The delay in launch detection will equal half the window size because the median will only be high once half the window is high </p><dl class="section note"><dt>Note</dt><dd>When to use: detect liftoff robustly against spikes by requiring a sustained acceleration median over a configurable window. </dd></dl>

<p class="definition">Definition at line <a class="el" href="LaunchDetector_8h_source.html#l00049">49</a> of file <a class="el" href="LaunchDetector_8h_source.html">LaunchDetector.h</a>.</p>
</div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a10e33e12876e820753cde55b85c6f6dc" name="a10e33e12876e820753cde55b85c6f6dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10e33e12876e820753cde55b85c6f6dc">&#9670;&#160;</a></span>LaunchDetector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LaunchDetector::LaunchDetector </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>accelerationThreshold_ms2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>windowSize_ms</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>windowInterval_ms</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">accelerationThreshold_ms2</td><td>The threshold for acceleration to be considered a launch </td></tr>
    <tr><td class="paramname">windowSize_ms</td><td>The size of the window to calculate the median acceleration. The delay in launch detection will equal half the window size A window too small will cause false positives. </td></tr>
    <tr><td class="paramname">windowInterval_ms</td><td>The interval between acceleration value in the window You must be able to update the detector faster than this interval The detector will reject data that comes in faster than this interval to maintain this interval or slower </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="LaunchDetector_8cpp_source.html#l00009">9</a> of file <a class="el" href="LaunchDetector_8cpp_source.html">LaunchDetector.cpp</a>.</p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a7136c3709a7dc5ea3cb8073e07902bd8" name="a7136c3709a7dc5ea3cb8073e07902bd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7136c3709a7dc5ea3cb8073e07902bd8">&#9670;&#160;</a></span>getAcceptableTimeDifference()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t LaunchDetector::getAcceptableTimeDifference </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LaunchDetector_8h_source.html#l00086">86</a> of file <a class="el" href="LaunchDetector_8h_source.html">LaunchDetector.h</a>.</p>

</div>
</div>
<a id="a087d0a3884c957a74134b6bebb5b09ec" name="a087d0a3884c957a74134b6bebb5b09ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a087d0a3884c957a74134b6bebb5b09ec">&#9670;&#160;</a></span>getLaunchedTime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t LaunchDetector::getLaunchedTime </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LaunchDetector_8h_source.html#l00073">73</a> of file <a class="el" href="LaunchDetector_8h_source.html">LaunchDetector.h</a>.</p>

</div>
</div>
<a id="a4d6d2d230bf4de43b01280d92b02c6b9" name="a4d6d2d230bf4de43b01280d92b02c6b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d6d2d230bf4de43b01280d92b02c6b9">&#9670;&#160;</a></span>getMedianAccelerationSquared()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float LaunchDetector::getMedianAccelerationSquared </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LaunchDetector_8h_source.html#l00074">74</a> of file <a class="el" href="LaunchDetector_8h_source.html">LaunchDetector.h</a>.</p>

</div>
</div>
<a id="aca6e1d0de79edf9d2e47f5424b71776a" name="aca6e1d0de79edf9d2e47f5424b71776a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca6e1d0de79edf9d2e47f5424b71776a">&#9670;&#160;</a></span>getThreshold()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float LaunchDetector::getThreshold </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LaunchDetector_8h_source.html#l00083">83</a> of file <a class="el" href="LaunchDetector_8h_source.html">LaunchDetector.h</a>.</p>

</div>
</div>
<a id="a847360fa6e3b8d61f2989ec2c329f2d0" name="a847360fa6e3b8d61f2989ec2c329f2d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a847360fa6e3b8d61f2989ec2c329f2d0">&#9670;&#160;</a></span>getWindowInterval()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t LaunchDetector::getWindowInterval </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LaunchDetector_8h_source.html#l00085">85</a> of file <a class="el" href="LaunchDetector_8h_source.html">LaunchDetector.h</a>.</p>

</div>
</div>
<a id="ac06864bc7b0b8b8e262faaf6d02abc36" name="ac06864bc7b0b8b8e262faaf6d02abc36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac06864bc7b0b8b8e262faaf6d02abc36">&#9670;&#160;</a></span>getWindowPtr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCircularArray.html">CircularArray</a>&lt; <a class="el" href="classDataPoint.html">DataPoint</a>, <a class="el" href="LaunchDetector_8h.html#a010dffbeb29ec5827f49b8857058687b">CIRCULAR_ARRAY_ALLOCATED_SLOTS</a> &gt; * LaunchDetector::getWindowPtr </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LaunchDetector_8h_source.html#l00081">81</a> of file <a class="el" href="LaunchDetector_8h_source.html">LaunchDetector.h</a>.</p>

</div>
</div>
<a id="a99e05cfc01d84f3401d053700e09b7a3" name="a99e05cfc01d84f3401d053700e09b7a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99e05cfc01d84f3401d053700e09b7a3">&#9670;&#160;</a></span>isLaunched()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool LaunchDetector::isLaunched </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LaunchDetector_8h_source.html#l00072">72</a> of file <a class="el" href="LaunchDetector_8h_source.html">LaunchDetector.h</a>.</p>

</div>
</div>
<a id="a95dcd28cad213d76923dad7f3fac46d7" name="a95dcd28cad213d76923dad7f3fac46d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95dcd28cad213d76923dad7f3fac46d7">&#9670;&#160;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LaunchDetector::reset </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LaunchDetector_8cpp_source.html#l00174">174</a> of file <a class="el" href="LaunchDetector_8cpp_source.html">LaunchDetector.cpp</a>.</p>

</div>
</div>
<a id="aafd3b9a4f4cab849750851cfb3fbe4ff" name="aafd3b9a4f4cab849750851cfb3fbe4ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafd3b9a4f4cab849750851cfb3fbe4ff">&#9670;&#160;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int LaunchDetector::update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAccelerationTriplet.html">AccelerationTriplet</a></td>          <td class="paramname"><span class="paramname"><em>accel</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the detector with new acceleration data </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">accel</td><td>The newest acceleration data (triplet of x, y, and z acceleration data points) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: False if the data is ignored, true if the data is accepted </dd></dl>

<p class="definition">Definition at line <a class="el" href="LaunchDetector_8cpp_source.html#l00028">28</a> of file <a class="el" href="LaunchDetector_8cpp_source.html">LaunchDetector.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="LaunchDetector_8h_source.html">LaunchDetector.h</a></li>
<li><a class="el" href="LaunchDetector_8cpp_source.html">LaunchDetector.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="classLaunchDetector.html">LaunchDetector</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.16.1 </li>
  </ul>
</div>
</body>
</html>
