<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.16.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Avionics: hal Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="clemson.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Avionics
   </div>
   <div id="projectbrief">Core avionics package for CURE flight computers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.16.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('dir_52c912f73dac9c4c0e442232e1b2bd80.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">hal Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Directory dependency graph for hal:</div>
<div class="dyncontent">
<div class="center"><img src="dir_52c912f73dac9c4c0e442232e1b2bd80_dep.png" border="0" usemap="#adir__52c912f73dac9c4c0e442232e1b2bd80__dep" loading="lazy" alt="hal"/></div>
<map name="adir__52c912f73dac9c4c0e442232e1b2bd80__dep" id="adir__52c912f73dac9c4c0e442232e1b2bd80__dep">
<area shape="rect" href="dir_52c912f73dac9c4c0e442232e1b2bd80.html" title="hal" alt="" coords="19,5,61,31"/>
<area shape="rect" href="dir_d44c64559bbebec7f509842c48db8b23.html" title="include" alt="" coords="5,79,75,104"/>
<area shape="poly" href="dir_000003_000004.html" alt="" coords="43,31,43,65,37,65,37,31"/>
<area shape="rect" href="dir_000003_000004.html" title="2" alt="" coords="44,53,53,68"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-files" class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:Adafruit_5FSPIFlash_5Fmock_2Eh" id="r_Adafruit_5FSPIFlash_5Fmock_2Eh"><td class="memItemLeft"><a href="Adafruit__SPIFlash__mock_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight"><a class="el" href="Adafruit__SPIFlash__mock_8h.html">Adafruit_SPIFlash_mock.h</a></td></tr>
<tr class="memitem:ArduinoHAL_2Eh" id="r_ArduinoHAL_2Eh"><td class="memItemLeft"><a href="ArduinoHAL_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight"><a class="el" href="ArduinoHAL_8h.html">ArduinoHAL.h</a></td></tr>
<tr class="memitem:DataSaver_5Fmock_2Eh" id="r_DataSaver_5Fmock_2Eh"><td class="memItemLeft"><a href="DataSaver__mock_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight"><a class="el" href="DataSaver__mock_8h.html">DataSaver_mock.h</a></td></tr>
<tr class="memitem:serial_5Fmock_2Eh" id="r_serial_5Fmock_2Eh"><td class="memItemLeft"><a href="serial__mock_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight"><a class="el" href="serial__mock_8h.html">serial_mock.h</a></td></tr>
<tr class="memitem:spi_5Fmock_2Eh" id="r_spi_5Fmock_2Eh"><td class="memItemLeft"><a href="spi__mock_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight"><a class="el" href="spi__mock_8h.html">spi_mock.h</a></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><h1 class="doxsection"><a class="anchor" id="autotoc_md12"></a>
hal Directory</h1>
<p>The HAL directory defines a hardware abstraction layer (HAL) which sits between Avionics and the Arduino core platform. This layer allows Avionics to be tested via the Native repo on a laptop without any Arduino dependencies.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md13"></a>
The RULE</h1>
<p>Avionics must never <span class="tt">#include &lt;Arduino.h&gt;</span> or any other Arduino-specific headers. Instead you must include <span class="tt">ArdinoHAL.h</span> from this directory which will either pull in the real Arduino core (when compiling for an Arduino target) or a mock implementation (when compiling for Native).</p>
<p>If you ever try to inlucde an Arduino header directly in Avionics, then the Native tests will fail to compile because Native isn't an Arduino project and doesn't have access to Arduino headers.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md14"></a>
How it works</h1>
<p>When you include <span class="tt"><a class="el" href="ArduinoHAL_8h.html">ArduinoHAL.h</a></span>, it checks if the <span class="tt">ARDUINO</span> macro is defined. If it is, then it includes the real Arduino core headers. If not, then it includes mock implementations of the Arduino functions and classes that Avionics uses. It is meant to be a drop-in replacement for the Arduino core. Things have been added to the ArduinoHAL mock as needed to support Avionics unit tests in Native. If you find that a function or class is missing from the mock, you can add it to the mock implementation files in this directory.</p>
<p>For example, the <span class="tt"><a class="el" href="serial__mock_8h.html">serial_mock.h</a></span> defines a <span class="tt"><a class="el" href="serial__mock_8h.html#a20ff0bc99522ec4c094aa2bebd8ce796">Serial</a></span> object that mimics the Arduino <span class="tt"><a class="el" href="serial__mock_8h.html#a20ff0bc99522ec4c094aa2bebd8ce796">Serial</a></span> object. It has the same methods (e.g., <span class="tt">begin</span>, <span class="tt">print</span>, <span class="tt">println</span>, etc.) but they just print to the stdout instead of a real serial port.</p>
<p><span class="tt"><a class="el" href="ArduinoHAL_8h.html">ArduinoHAL.h</a></span> is the entry point and will include other headers in this directory as needed. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_52c912f73dac9c4c0e442232e1b2bd80.html">hal</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.16.1 </li>
  </ul>
</div>
</body>
</html>
